# File              : client.yaml
# Author            : Sheetal Reddy <sheetal.reddy@ai.se>
# Date              : 26.01.2021
# Last Modified Date: 01.02.2021
# Last Modified By  : Sheetal Reddy <sheetal.reddy@ai.se>

version: '3.3'
services:
  farallon3:
    environment:
      - GET_HOSTS_FROM=dns
    image: "scaleoutsystems/client:latest"
    build:
      context: .
      dockerfile: components/client/Dockerfile
    working_dir: /app/
    command: /bin/bash -c "fedn run client -in fedn-network.yaml"
    volumes:
      - ${PWD}/test/fedbird/config:/app/config
      - ${PWD}/test/fedbird/data/client1:/app/data
  roaster3:
    environment:
      - GET_HOSTS_FROM=dns
    image: "scaleoutsystems/client:latest"
    build:
      context: .
      dockerfile: components/client/Dockerfile
    working_dir: /app/
    command: /bin/bash -c "fedn run client -in fedn-network.yaml"
    volumes:
      - ${PWD}/test/fedbird/config:/app/config
      - ${PWD}/test/fedbird/data/client2:/app/data
networks:
  default:
    external:
      name: fedn_default      
